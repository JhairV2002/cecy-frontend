<p-toolbar>
  <div class="p-toolbar-group-left">
    <button pButton pRipple type="button" label="Refrescar" class="p-button-rounded ml-2 p-button-success"
      icon="pi pi-sync" (click)="planificationsAsign()"></button>

  </div>
  <div class="p-toolbar-group-right">
    <div class="p-inputgroup">
      <input id="namePlan" pInputText #inputSearch [(ngModel)]="namePlan" placeholder="Buscar curso asignado"
        (keyup)="filterPlanification(namePlan)" />

      <button pButton pRipple type="button" icon="pi pi-search"></button>
    </div>
  </div>
</p-toolbar>

<!-- <p-card *ngIf="allCourses.length == 0" class="m-auto w-full text-center">
  <h2>No tienes cursos asignados</h2>
</p-card> -->

<div *ngIf="loading" class="text-center flex items-center justify-center">
  <p-progressSpinner styleClass="custom-spinner"></p-progressSpinner>
</div>
<div class="flex flex-wrap gap-4 mt-2 mb-2">
  <div *ngFor="let item of filterPlan">
    <p-card *ngIf="!loading" [header]="item.planification.name" [style]="{ width: '250px' }"
    subheader="CÃ³digo del curso: {{ item.planification.codeCourse }}">
      <ng-template pTemplate="header">
        <!-- <div class=" "> -->
        <img class="object-contain h-32" onerror='this.src = "https://primefaces.org/cdn/primeng/images/usercard.png" '
          [src]="item?.image" alt="" style="height: 1 rem" />
        <!-- </div> -->
      </ng-template>
      <p>
        Estado: <span><p-tag [severity]="item.planification.state === 'suspendido' ? 'danger' : 'success'" value="{{ item.planification.state }}"></p-tag></span> <br />
        Creado: {{ item.planification.createdAt | date }}
      </p>
      <ng-template pTemplate="footer">
        <div class="text-center">
          <p-splitButton label="Editar" styleClass="p-button-primary" icon="pi pi-user-edit"
            (onDropdownClick)="select(item)" (onClick)="editCourse(item)" [model]="items">
          </p-splitButton>
        </div>
      </ng-template>
    </p-card>
  </div>
</div>
